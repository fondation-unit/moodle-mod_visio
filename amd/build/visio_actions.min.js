define(["core/ajax","core/notification"],function(a,b){var c=function(c,d,e){var f=document.getElementById("mod_visio_receiver"),g=document.createElement("button");g.classList="btn btn-primary",g.innerHTML=e,a.call([{methodname:"mod_visio_host_launch_visio",args:{url:c},done:function(a){g.addEventListener("click",function(){window.open(d+"/?session="+a)}),f.appendChild(g)},fail:function(a){b.exception(a)}}],!0)};return{init:function(a,b,d){return new c(a,b,d)}}});