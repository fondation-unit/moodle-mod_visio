define(["jquery","core/ajax","core/notification"],function(a,b,c){var d=function(b,c){this._region=a(b),this._visioid=c,this._region.find("ul").unbind().on("click","li",this._setUserChoice.bind(this))};return d.prototype._setUserChoice=function(d){var e=a(d.target),f=e.data("pollname");return f&&b.call([{methodname:"mod_visio_set_pollchoice",args:{visioid:this._visioid,poll_value:f},done:function(){return this._region.find("li").removeClass("bg-primary"),e.addClass("bg-primary"),!0}.bind(this),fail:c.exception}]),!0},d});